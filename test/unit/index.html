<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>hk-aerial-gui - Mocha Tests</title>
  <link rel="stylesheet" href="../../node_modules/mocha/mocha.css" />
</head>
<body>

  <div id="mocha"></div>

  <!-- JS from Bower components -->
  <script src="../../bower_components/angular/angular.js"></script>
  <script src="../../bower_components/eventemitter2/lib/eventemitter2.js"></script>


  <!-- Test libraries -->
  <script src="../../node_modules/mocha/mocha.js"></script>
  <script>mocha.setup('bdd');</script>
  <script src="../../node_modules/chai/chai.js"></script>
  <script>var expect = chai.expect;</script>
  <script src="../../node_modules/sinon/pkg/sinon.js"></script>
  <script src="../../node_modules/sinon-chai/lib/sinon-chai.js"></script>
  <script src="../../bower_components/angular-mocks/angular-mocks.js"></script>

  <!-- Code files -->

  <!-- app -->
  <script src="../../src/setup/module.js"></script>
  <script src="../../src/setup/config.js"></script>
  <script src="../../src/setup/run.js"></script>

  <!-- templates -->
  <script src="../../src/templates.js"></script>
  <!-- /templates -->

  <!-- controllers -->
  <!-- /controllers -->

  <!-- directives -->
  <script src="../../src/directives/dualshockAnalog/dualshockAnalog.js"></script>
  <script src="../../src/directives/dualshockMove/dualshockMove.js"></script>
  <script src="../../src/directives/artificialHorizon/artificialHorizon.js"></script>
  <script src="../../src/directives/compass/compass.js"></script>
  <script src="../../src/directives/altimeter/altimeter.js"></script>
  <script src="../../src/directives/adjustableSlider/adjustableSlider.js"></script>
  <!-- /directives -->

  <!-- filters -->
  <!-- /filters -->

  <!-- models -->
  <script src="../../src/models/drone.js"></script>
  <script src="../../src/models/dualShock.js"></script>
  <script src="../../src/models/eventEmitter.js"></script>
  <!-- /models -->

  <!-- partials -->
  <script src="../../src/partials/main/mainCtrl.js"></script>
  <script src="../../src/partials/debug/debugCtrl.js"></script>
  <script src="../../src/partials/rc/rcCtrl.js"></script>
  <script src="../../src/partials/dualShock/dualShockCtrl.js"></script>
  <script src="../../src/partials/drone/droneCtrl.js"></script>
  <!-- /partials -->

  <!-- services -->
  <script src="../../src/services/socket.js"></script>
  <!-- /services -->



  <!-- Test files -->

  <!-- controller tests -->
  <!-- /controller tests -->

  <!-- directive tests -->
  <script src="directives/dualshockAnalog.js"></script>
  <script src="directives/dualshockMove.js"></script>
  <script src="directives/artificialHorizon.js"></script>
  <script src="directives/compass.js"></script>
  <script src="directives/altimeter.js"></script>
  <script src="directives/adjustableSlider.js"></script>
  <!-- /directive tests -->

  <!-- filter tests -->
  <!-- /filter tests -->

  <!-- model tests -->
  <script src="models/drone.js"></script>
  <script src="models/dualShock.js"></script>
  <script src="models/eventEmitter.js"></script>
  <!-- /model tests -->

  <!-- partial tests -->
  <script src="controllers/mainCtrl.js"></script>
  <script src="controllers/connectCtrl.js"></script>
  <script src="controllers/debugCtrl.js"></script>
  <script src="controllers/rcCtrl.js"></script>
  <script src="controllers/dualShockCtrl.js"></script>
  <script src="controllers/droneCtrl.js"></script>
  <!-- /partial tests -->

  <!-- service tests -->
  <script src="services/socketio.js"></script>
  <!-- /service tests -->

  <!-- run mocha after all test are loaded -->
  <script type="text/javascript" charset="utf-8">
    // Only tests run in real browser, injected script run if options.run == true
    if (window.mochaPhantomJS) {

      if (!Function.prototype.bind) {
        Function.prototype.bind = function(oThis) {
          if (typeof this !== 'function') {
            // closest thing possible to the ECMAScript 5
            // internal IsCallable function
            throw new TypeError('Function.prototype.bind - what is trying to be bound is not callable');
          }

          var aArgs   = Array.prototype.slice.call(arguments, 1),
              fToBind = this,
              fNOP    = function() {},
              fBound  = function() {
                return fToBind.apply(this instanceof fNOP && oThis
                       ? this
                       : oThis,
                       aArgs.concat(Array.prototype.slice.call(arguments)));
              };

          fNOP.prototype = this.prototype;
          fBound.prototype = new fNOP();

          return fBound;
        };
      }
      
      mochaPhantomJS.run();
    } else {
      mocha.run();
    }
  </script>
  
</body>
</html>